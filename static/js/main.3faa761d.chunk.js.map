{"version":3,"sources":["components/Main.jsx","components/common/FormInput.jsx","components/common/FormCalcItem.jsx","components/common/FormCalc.jsx","components/common/FormCheckBox.jsx","api/SendToBack.js","components/common/Form.jsx","components/Modal.jsx","App.jsx","index.js"],"names":["Main","modalIsOpen","modalOpen","className","onClick","FormInput","regular","updateState","useState","errors","set_errors","inputState","set_inputState","successfulValidate","pureInputValue","Number","RemoveRussian","normalNumber","toLocaleString","failValidate","replace","htmlFor","onBlur","test","onChange","event","target","value","placeholder","id","type","FormCalcItem","price","indx","update","LabelId","Math","random","onInput","ceil","number","titles","cases","declOfNum","FormCalc","payments","updatePlayements","length","map","element","money","FormCheckBox","updateValue","defaultChecked","name","formData","a","fetch","method","headers","body","JSON","stringify","response","json","data","Form","classForm","salary","earlyPayments","reducing","set_formData","useEffect","taxYear","fullTax","earlyPaymentsArr","push","fillPlayment","onSubmit","SendToBack","defaultState","newVal","disabled","Modal","isOpen","close","CloseModal","e","stopPropagation","App","modal","set_modal","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3faa761d.chunk.js","sourcesContent":["function Main({modalIsOpen,modalOpen}) {\r\n  return (\r\n    <section className={modalIsOpen ? \"main main--modal\" : \"main\"}>\r\n      <div className=\"main__inner\">\r\n        <button onClick={() => modalOpen()} className=\"btn btn-white\">Налоговый вычет</button>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\nexport default Main;\r\n","import { useState } from \"react\";\r\n\r\nfunction FormInput({ regular, updateState }) {\r\n  const [errors, set_errors] = useState(false);\r\n  const [inputState, set_inputState] = useState(\"\");\r\n\r\n  const updateInputState = (event) => {\r\n    set_inputState(event.target.value);\r\n  };\r\n\r\n  const ValidateState = () => { \r\n    regular.test(inputState) ? successfulValidate() : failValidate();\r\n  };\r\n\r\n  const successfulValidate = () => {\r\n    const pureInputValue = Number(RemoveRussian())\r\n    const normalNumber = pureInputValue.toLocaleString()\r\n    set_inputState(normalNumber + \" ₽\");\r\n    set_errors(false);\r\n    updateState(pureInputValue)\r\n  };\r\n\r\n  const failValidate = () => {\r\n    set_inputState(RemoveRussian());\r\n    set_errors(true);\r\n  };\r\n\r\n  const RemoveRussian = () => {\r\n    return inputState.replace(/[₽\\s]/gi, \"\");\r\n  };\r\n\r\n  return (\r\n    <div className=\"form__item\">\r\n      <label className=\"form__item-title\" htmlFor=\"zarplata\">\r\n        Ваша зарплата в месяц\r\n      </label>\r\n      <input\r\n        onBlur={ValidateState}\r\n        onChange={updateInputState}\r\n        value={inputState}\r\n        placeholder=\"Введите данные\"\r\n        className={\r\n          \"form__item-input \" + (errors ? \" form__item-input--error\" : \" \")\r\n        }\r\n        id=\"zarplata\"\r\n        type=\"text\"\r\n      />\r\n      <span className=\"form__item-error\">\r\n        {errors ? \"Ошибка в ведённых символах\" : \" \"}\r\n      </span>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormInput;\r\n","function FormCalcItem({ price, indx, value, update }) {\r\n  const LabelId = Math.random() * Math.random();\r\n\r\n  function declOfNum(number, titles = [\"ой\", \"ий\", \"ый\"]) {\r\n    let cases = [2, 2, 0, 1, 1, 2];\r\n    return titles[\r\n      number % 100 >= 4 && number % 100 < 20\r\n        ? number >= 6 && number < 10\r\n          ? 0\r\n          : 2\r\n        : cases[number % 10 < 5 ? number % 10 : 4]\r\n    ];\r\n  }\r\n  return (\r\n    <div className=\"form-calc__item\">\r\n      <input\r\n        value={value}\r\n        className=\"form-calc__checkbox\"\r\n        id={LabelId}\r\n        type=\"checkbox\"\r\n        onInput={() => update()}\r\n      />\r\n      <label className=\"form-calc__label\" htmlFor={LabelId}>\r\n        {Math.ceil(price).toLocaleString()} рублей в {indx + 1}-\r\n        {declOfNum(indx + 1)} год\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormCalcItem;\r\n","import FormCalcItem from \"./FormCalcItem\";\r\nfunction FormCalc({ payments, updatePlayements }) {\r\n\r\n  const RenderCalcContent = () =>\r\n    payments.map((element, indx) => (\r\n      <FormCalcItem\r\n        value={element.value}\r\n        update={() => updatePlayements(element.id)}\r\n        indx={indx}\r\n        price={element.money}\r\n        key={indx}\r\n      />\r\n    ));\r\n\r\n  return (\r\n    <div className=\"form-calc form__item\">\r\n      <button type=\"button\" className=\"form-calc__btn\">\r\n        Рассчитать\r\n      </button>\r\n      <div\r\n        className={\r\n          \"form-calc__content \" +\r\n          (payments.length > 0 ? \"form-calc__content--active\" : \"\")\r\n        }\r\n      >\r\n        <h3 className=\"form-calc__title\">\r\n          Итого можете внести в качестве досрочных:\r\n        </h3>\r\n        {payments.length > 0 ? RenderCalcContent() : \"\"}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default FormCalc;\r\n","function FormCheckBox({value,updateValue}) {\r\n\r\n\r\n  return (\r\n    <div className=\"form__item form-checbox\">\r\n      <h3 className=\"form__item-title form-checbox__title\">Что уменьшаем?</h3>\r\n      <div className=\"form-checbox__content\">\r\n        <div className=\"form-checbox__item\">\r\n          <input\r\n            defaultChecked\r\n            className=\"form-checbox__input\"\r\n            id=\"check1\"\r\n            type=\"radio\"\r\n            name=\"check\"\r\n            value=\"term\"\r\n            // defaultValue={value}\r\n            onChange={(event) => updateValue(event.target.value)}\r\n          />\r\n          <label className=\"form-checbox__label\" htmlFor=\"check1\">\r\n            Платеж\r\n          </label>\r\n        </div>\r\n        <div className=\"form-checbox__item\">\r\n          <input\r\n            className=\"form-checbox__input\"\r\n            id=\"check2\"\r\n            type=\"radio\"\r\n            name=\"check\"\r\n            value=\"payment\"\r\n            onChange={(event) => updateValue(event.target.value)}\r\n          />\r\n          <label className=\"form-checbox__label\" htmlFor=\"check2\">\r\n            Срок\r\n          </label>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default FormCheckBox;\r\n","async function SendToBack(formData) {\r\n    const response = await fetch(``, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"content-type\": \"application/json\"\r\n        },\r\n        body: JSON.stringify(formData)\r\n    })\r\n    const data = await response.json()\r\n    return data\r\n}\r\n\r\nexport { SendToBack }","import FormInput from \"./FormInput\";\r\nimport FormCalc from \"./FormCalc\";\r\nimport FormCheckBox from \"./FormCheckBox\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {SendToBack} from \"./../../api/SendToBack\"\r\nfunction Form({ classForm }) {\r\n  const [formData, set_formData] = useState({\r\n    salary: 0,\r\n    earlyPayments: [],\r\n    reducing: \"term\",\r\n  });\r\n\r\n  const updateSalary = (value) => {\r\n    set_formData({ ...formData, salary: Number(value) });\r\n  };\r\n\r\n  const fillPlayment = () => {\r\n    let taxYear = formData.salary * 12 * 0.13;\r\n    let fullTax = 260000;\r\n    let earlyPaymentsArr = [];\r\n    while (fullTax > taxYear) {\r\n      earlyPaymentsArr.push({\r\n        id: Math.random(),\r\n        value: false,\r\n        money: taxYear,\r\n      });\r\n      fullTax -= taxYear;\r\n    }\r\n    earlyPaymentsArr.push({ id: Math.random(), value: false, money: fullTax });\r\n    set_formData({ ...formData, earlyPayments: earlyPaymentsArr });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (formData.salary > 0) {\r\n      fillPlayment();\r\n    }\r\n  }, [formData.salary]);\r\n\r\n  const toggleEarlyPayments = (id) => {\r\n    set_formData({\r\n      ...formData,\r\n      earlyPayments: formData.earlyPayments.map((element) =>\r\n        element.id === id ? { ...element, value: !element.value } : element\r\n      ),\r\n    });\r\n  };\r\n\r\n\r\n  const updateReducing = (newVal) =>\r\n    set_formData({ ...formData, reducing: newVal });\r\n\r\n  return (\r\n    <form onSubmit={() => SendToBack(formData)} className={classForm ? `form ${classForm}` : \"form\"}>\r\n      <FormInput\r\n        updateState={updateSalary}\r\n        defaultState={formData.salary}\r\n        regular={/^[0-9 ₽]/}\r\n      />\r\n      <FormCalc\r\n        updatePlayements={toggleEarlyPayments}\r\n        payments={formData.earlyPayments}\r\n      />\r\n      <FormCheckBox updateValue={updateReducing} value={formData.reducing} />\r\n      <button disabled={!(formData.salary > 0)} className=\"form__btn btn btn-red\">Добавить</button>\r\n    </form>\r\n  );\r\n}\r\n\r\nexport default Form;\r\n","import Form from \"./common/Form\"\r\nfunction Modal({isOpen, close}){\r\n\r\n    const CloseModal = () =>{\r\n        close()\r\n    }\r\n    return(\r\n        <div onClick={CloseModal} className={isOpen ? \"modal modal--open\" : \" modal\"}>\r\n        <div onClick={(e) => e.stopPropagation()} className=\"modal__content\">\r\n            <button onClick={CloseModal} className=\"modal__close\">&#10006;</button>\r\n            <h2 className=\"modal__title\">Налоговый вычет</h2>\r\n            <p className=\"modal__text\">Используйте налоговый вычет чтобы погасить ипотеку досрочно. Размер налогового вычета составляет не более 13% от своего официального годового дохода.</p>\r\n            <Form classForm=\"modal__form\"/>\r\n        </div>\r\n    </div>\r\n    )\r\n}\r\n\r\nexport default Modal","import Main from \"./components/Main\"\nimport Modal from \"./components/Modal\"\nimport {useState} from \"react\"\nfunction App() {\n  const [modal, set_modal] = useState(false)\n\n  const modalClose = () => set_modal(false)\n  const modalOpen = () => set_modal(true)\n\n  return (\n    <div className=\"App\">\n      <Main modalOpen={modalOpen} modalIsOpen={modal} />\n      <Modal close={modalClose} isOpen={modal} />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport \"./style/index.sass\";\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}